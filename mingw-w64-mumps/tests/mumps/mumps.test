package require buildtest

buildtest::sandbox {
	foreach build {{} static} {
		foreach exm {{} mpi} {
			set cts [list c real double $build $exm]
			autotest $cts mumps-[variant $cts] c_example.c {}
			foreach scalar {real complex} {
				foreach precision {single double} {
					set cts [list fortran $exm $scalar $precision $build]
					set x [constraint::scalar $cts]
					switch -regexp $x {
						{c|z} {set f input_simpletest_cmplx}
						{s|d} {set f input_simpletest_real}
					}
					autotest $cts mumps-[variant $cts] ${x}simpletest.F [list < $f]
				}
			}
		}
	}
}
